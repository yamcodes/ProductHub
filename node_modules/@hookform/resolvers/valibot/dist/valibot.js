var r=require("@hookform/resolvers"),e=require("valibot"),t=require("react-hook-form"),o=function(r,e){for(var o={};r.issues.length;){var a=r.issues[0];if(a.path){var s=a.path.map(function(r){return r.key}).join(".");if(o[s]||(o[s]={message:a.message,type:a.validation}),e){var n=o[s].types,i=n&&n[a.validation];o[s]=t.appendErrors(s,e,o,a.validation,i?[].concat(i,a.message):a.message)}r.issues.shift()}}return o};exports.valibotResolver=function(t,a,s){return void 0===s&&(s={}),function(n,i,u){try{return Promise.resolve(function(r,o){try{var i=function(){function r(r){return{values:s.raw?n:r,errors:{}}}var o=Object.assign({},{abortEarly:!1,abortPipeEarly:!1},a);return"sync"===s.mode?r(e.parse(t,n,o)):Promise.resolve(e.parseAsync(t,n,o)).then(r)}()}catch(r){return o(r)}return i&&i.then?i.then(void 0,o):i}(0,function(t){if(t instanceof e.ValiError)return{values:{},errors:r.toNestErrors(o(t,!u.shouldUseNativeValidation&&"all"===u.criteriaMode),u)};throw t}))}catch(r){return Promise.reject(r)}}};
//# sourceMappingURL=valibot.js.map
